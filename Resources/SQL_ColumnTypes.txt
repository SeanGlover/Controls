WITH COLUMNS (DSN, TABLE_NAME, OBJECT_TYPE, TYPE, COLUMN_NBR, COLUMN_NAME, FORMAT, COLUMN_TYPE, LENGTH, SCALE, NULLABLE, CREATOR, DB_NAME, TS_NAME, OWNER, SQL, COMMENT) AS (
SELECT CASE WHEN CURRENT SERVER='TORDSNQ' THEN 'CDNIW' ELSE TRIM(CURRENT SERVER) END
, TRIM(CAST(C.TBNAME AS VARCHAR(35)))
, CAST((CASE T.TYPE
	WHEN 'A' THEN 'ALIAS'
	WHEN 'G' THEN 'GLOBAL'
	WHEN 'T' THEN 'TABLE'
	WHEN 'V' THEN 'VIEW'
	WHEN 'X' THEN 'AUXILIARY'
	END) AS VARCHAR(10))
, T.TYPE
, CAST(C.COLNO AS SMALLINT)
, CAST(TRIM(C.NAME) AS VARCHAR(35))
, TRIM(CASE WHEN COLTYPE='TIMESTMP' THEN 'TIMESTAMP' ELSE COLTYPE END)||(CASE
	WHEN COLTYPE IN ('DATE', 'TIMESTMP','SMALLINT','INTEGER','BIGINT') THEN ''
	ELSE '('||LENGTH||(CASE
		WHEN COLTYPE='DECIMAL' THEN ', '||SCALE
		ELSE '' END)||')'
	END)
, CAST(TRIM(CASE WHEN COLTYPE='TIMESTMP' THEN 'TIMESTAMP' ELSE COLTYPE END) AS VARCHAR(15))
, CAST(C.LENGTH AS SMALLINT)
, CAST(C.SCALE AS SMALLINT)
, NULLS
, CAST(TRIM(T.CREATOR) AS VARCHAR(8))
, CAST(TRIM(T.DBNAME) AS VARCHAR(8))
, CAST(TRIM(T.TSNAME) AS VARCHAR(8))
, CAST(TRIM(T.OWNER) AS VARCHAR(8))
, TRIM(VARCHAR(V.STATEMENT))
, TRIM(T.REMARKS)

FROM SYSIBM.SYSTABLES T

LEFT JOIN SYSIBM.SYSCOLUMNS C
ON (T.CREATOR=C.TBCREATOR AND T.NAME=C.TBNAME)

LEFT JOIN SYSIBM.SYSVIEWS V
ON (V.CREATOR=C.TBCREATOR AND V.NAME=C.TBNAME)

///CONDITIONS///

)
--====================
SELECT *
FROM COLUMNS
ORDER BY TABLE_NAME, COLUMN_NBR